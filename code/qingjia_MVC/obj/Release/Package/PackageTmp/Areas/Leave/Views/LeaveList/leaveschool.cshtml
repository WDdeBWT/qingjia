@{
    ViewBag.Title = "离校请假";
    var F = @Html.F();
    var LL_ST_Info = (qingjia_MVC.Models.vw_Student)ViewData["LL_ST_Info"];
}

@section script{
<script>
    function changeInfoClient(event) {
        F.ui.changeInfo.show('@Url.Content("~/UserInfo/UserInfo/Index")', '基本信息修改');
    }
</script>

}

@section body {

    @{
        F.PageManager.AjaxLoadingType(AjaxLoadingType.Mask);
    }

    @(F.Form()
        .BodyPadding(10)
        .AutoScroll(true)
        .ShowHeader(false)
        .ShowBorder(false)
        .ID("SimpleForm1")
        .IsViewPort(true)
        .Toolbars(
            F.Toolbar()
                .ToolbarAlign(ToolbarAlign.Center)
                .Position(ToolbarPosition.Bottom)
                .Items(
                    F.Button()
                        .ID("btnSubmit")
                        .IconFont(IconFont.Save)
                        .ValidateForms("SimpleForm1")
                        .CssClass("marginr")
                        .Text("申请请假")
                        .OnClick(Url.Action("leaveSchool_btnSubmit_Click"), "SimpleForm1")
                )
        )
        .Rows(
            F.FormRow()
                .Items(
                    F.Label()
                        .Text(@LL_ST_Info.ST_Num)
                        .Label("学号")
                        .ID("ST_Num"),
                    F.Label()
                        .Text(@LL_ST_Info.ST_Name)
                        .Label("姓名")
                        .ID("ST_Name")
                ),
            F.FormRow()
                .Items(
                    F.Label()
                        .Text(@LL_ST_Info.ST_Class)
                        .Label("班级")
                        .ID("ST_Class"),
                    F.Label()
                        .Text(@LL_ST_Info.ST_Sex)
                        .Label("性别")
                        .ID("ST_Sex")
                ),
            F.FormRow()
                .Items(
                    F.Label()
                        .Text(@LL_ST_Info.ContactOne + "-" + @LL_ST_Info.OneTel)
                        .Label("联系人一")
                        .ID("contactone"),
                    F.Label()
                        .Text(@LL_ST_Info.ContactTwo + "-" + @LL_ST_Info.TwoTel)
                        .Label("联系人二")
                        .ID("contacttwo")
                ),
            F.FormRow()
                .Items(
                    F.Label()
                        .Text(@LL_ST_Info.ContactThree + "-" + @LL_ST_Info.ThreeTel)
                        .Label("联系人三")
                        .ID("contactthree"),
                    F.LinkButton()
                        .Text("修改个人信息")
                        .OnClick(Url.Action("changeInfo"))
                ),
            F.FormRow()
                .Items(
                    F.Label()
                ),
            F.FormRow()
                .Items(
                    F.DropDownList()
                        .ID("LL_Type")
                        .AutoSelectFirstItem(false)
                        .EmptyText("请选择请假类型")
                        .Required(true)
                        .OnSelectedIndexChanged("LL_TypeOnSelectedIndexChanged", "LL_Type")
                        .Label("请假类型")
                        .DataSource(ViewBag.LeaveType)
                        
                ),
            F.FormRow()
                .Items(
                    F.Label()
                ),
            F.FormRow()
                .Items(
                    F.DatePicker()
                        .Required(true)
                        .EnableEdit(false)
                        .Label("离校日期")
                        .EmptyText("请选择离校日期")
                        .ID("leaveDate")
                        .ShowRedStar(true),
                    F.TimePicker()
                        .ID("leaveTime")
                        .ShowRedStar(true)
                        .EnableEdit(false)
                        .Increment(30)
                        .MinTimeText("00:00")
                        .MaxTimeText("23:30")
                        .Required(true)
                        .EmptyText("请选择离校时间")
                ),
            F.FormRow()
                .Items(
                    F.DatePicker()
                        .Required(true)
                        .EnableEdit(false)
                        .Label("返校日期")
                        .EmptyText("请选择返校日期")
                        .ID("backDate")
                        .ShowRedStar(true),
                    F.TimePicker()
                        .ID("backTime")
                        .ShowRedStar(true)
                        .EnableEdit(false)
                        .Increment(30)
                        .MinTimeText("00:00")
                        .MaxTimeText("23:30")
                        .Required(true)
                        .EmptyText("请选择返校时间")
                ),
            F.FormRow()
                .ID("holiday_formrow_1")
                .Hidden(true)
                .Items(
                    F.Label()
                ),
            F.FormRow()
                .ID("holiday_formrow_2")
                .Hidden(true)
                .Items(
                    F.TextBox()
                        .ID("leaveWay")
                        .Label("离校方式")
                        .EmptyText("请输入火车车次、飞机航班号、班车车次、自驾、自行车等")
                        .Required(true)
                        .ShowRedStar(true),
                    F.TextBox()
                        .ID("backWay")
                        .Label("返校方式")
                        .EmptyText("请输入火车车次、飞机航班号、班车车次、自驾、自行车等")
                        .Required(true)
                        .ShowRedStar(true)
                ),
            F.FormRow()
                .ID("holiday_formrow_3")
                .Hidden(true)
                .Items(
                    F.TextBox()
                        .ID("address")
                        .Label("离校去向")
                        .EmptyText("请输入离校去向地址")
                        .Required(true)
                        .ShowRedStar(true),
                    F.DropDownList()
                        .ID("holidayType")
                        .AutoSelectFirstItem(false)
                        .EmptyText("请选择请假类型")
                        .Required(true)
                        .Label("请假子类型")
                        .DataSource(ViewBag.ddl_holidayType)
                ),
            F.FormRow()
                .Items(
                    F.Label()
                ),
            F.FormRow()
                .Items(
                    F.TextArea()
                        .ID("leaveReason")
                        .EmptyText("请输入请假原因。（30字以内）")
                        .Required(true)
                        .Label("请假原因")
                        .AutoGrowHeight(true)
                        .AutoGrowHeightMin(100)
                        .AutoGrowHeightMax(200)
                )
        )
    )
    
}